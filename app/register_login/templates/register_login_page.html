{% extends "layout.html" %}
{% block content %}

<!-- Flash messages for success or error -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div>
                {% for category, message in messages %}
                    <div style="position: relative; margin-bottom: 15px; padding: 10px; border-radius: 4px; width: 90%; margin: 10px auto; text-align: center; border: 1px solid transparent;
                                {% if category == 'success' %}
                                    background-color: #dff0d8; border-color: #d0e9c6; color: #3c763d;
                                {% elif category == 'error' %}
                                    background-color: #f2dede; border-color: #ebccd1; color: #a94442;
                                {% else %}
                                    background-color: #d9edf7; border-color: #bcdff1; color: #31708f;
                                {% endif %}"
                         class="flash-message">
                        <!-- X button to close the message -->
                        <button onclick="this.parentElement.style.display='none';" style="position: absolute; top: 5px; right: 10px; background: none; border: none; font-size: 16px; color: inherit; cursor: pointer;">&times;</button>
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

<div style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #ffffff; margin: 0; flex-direction: column; gap: 30px;">
    <!-- Login Form -->
    <div class="form-container" style="background-color: #ffffff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); width: 90%; max-width: 400px;">
        <h2 style="color: #DE3163; font-size: 20px; margin-bottom: 20px; text-align: center;">Login</h2>
        <form action="{{ url_for('auth.register_login') }}" method="POST">
            <input type="hidden" name="form_type" value="login">
            <label for="user_name" style="color: #4B0082; margin-bottom: 5px; display: block;">Username:</label>
            <input type="text" id="user_name" name="user_name" required style="padding: 8px; border: 1px solid #4B0082; border-radius: 4px; width: 95%; margin-bottom: 15px;">

            <label for="user_password" style="color: #4B0082; margin-bottom: 5px; display: block;">Password:</label>
            <input type="password" id="user_password" name="user_password" required style="padding: 8px; border: 1px solid #4B0082; border-radius: 4px; width: 95%; margin-bottom: 15px;">

            <button type="submit" style="background-color: #9370DB; color: white; padding: 10px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; width: 100%;">Login</button>
        </form>
    </div>

    <!-- Register Form -->
    <div class="form-container" style="background-color: #ffffff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); width: 90%; max-width: 400px;">
        <h2 style="color: #DE3163; font-size: 20px; margin-bottom: 20px; text-align: center;">Register</h2>
        <form action="{{ url_for('auth.register_login') }}" method="POST">
            <input type="hidden" name="form_type" value="register">
            <label for="user_name" style="color: #4B0082; margin-bottom: 5px; display: block;">Username:</label>
            <input type="text" id="user_name" name="user_name" required style="padding: 8px; border: 1px solid #4B0082; border-radius: 4px; width: 95%; margin-bottom: 15px;">

            <label for="user_email" style="color: #4B0082; margin-bottom: 5px; display: block;">Email:</label>
            <input type="email" id="user_email" name="user_email" required style="padding: 8px; border: 1px solid #4B0082; border-radius: 4px; width: 95%; margin-bottom: 15px;">

            <label for="user_password" style="color: #4B0082; margin-bottom: 5px; display: block;">Password:</label>
            <input type="password" id="user_password" name="user_password" required style="padding: 8px; border: 1px solid #4B0082; border-radius: 4px; width: 95%; margin-bottom: 15px;">

            <label for="user_password_confirmed" style="color: #4B0082; margin-bottom: 5px; display: block;">Confirm Password:</label>
            <input type="password" id="user_password_confirmed" name="user_password_confirmed" required style="padding: 8px; border: 1px solid #4B0082; border-radius: 4px; width: 95%; margin-bottom: 15px;">

            <button type="submit" style="background-color: #9370DB; color: white; padding: 10px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; width: 100%;">Register</button>
        </form>
    </div>
</div>
{% endblock %}